<canvas width="420" height="420" id="identicon"></canvas>
<script>
var hash = function (text, seed) {
   var initseed = 1097700957, temp; // from http://www.randomnumbers.info
   seed = (((seed * 19116) << 15) + (seed * 31049)) | 0;
   seed = seed % 2147483647;
   for (var i = 0, len = text.length; i < len; ++i) {
        seed = seed * 16807 % 2147483647; // pseudo-random generator
        temp = text.charCodeAt(i) * seed ^ initseed;
        initseed = (temp + initseed) | 0;
   }
   initseed += initseed << 5;
   initseed ^= initseed << 5;
   initseed += initseed >> 3;
   initseed ^= initseed << 7;
   initseed += initseed >>> 6;
   return initseed | 0;
}
var colors = [
      [201, 186, 84],
      [114, 153, 205],
      [141, 108, 204],
      [75, 183, 114],
      [192, 86, 82],
      [199, 115, 209],
      [206, 77, 94],
      [211, 135, 162],
      [71, 194, 197],
      [188, 110, 93],
      [196, 108, 168],
      [127, 219, 107],
      [83, 89, 215],
      [111, 198, 148],
      [186, 130, 82],
      [113, 66, 197],
];
var render = function (text, seed) {
    var HashValue = hash(text, seed) >> 12 & 524287;
    var color   = HashValue & 15;
    var pattern = HashValue >> 4;
    var a = document.getElementById("identicon");
    var b = a.getContext("2d");
    var red   = colors[color][0];
    var green = colors[color][1];
    var blue  = colors[color][2];
    b.fillStyle = "#ffffff";
    b.fillRect(0,0,420,420);
    b.fillStyle = "#" + red.toString(16) + green.toString(16) + blue.toString(16);
    var table = [1,2,4,8,16,32,64,128,256,512,1024,2048,4096,8192,16384];
    for (var i = 0; i < 5; ++i) {
        (pattern & table[i * 3    ]) && (b.fillRect( 35, 35 + 70 * i, 70, 70), b.fillRect(315, 35 + 70 * i, 70, 70));
        (pattern & table[i * 3 + 1]) && (b.fillRect(105, 35 + 70 * i, 70, 70), b.fillRect(245, 35 + 70 * i, 70, 70));
        (pattern & table[i * 3 + 2]) && (b.fillRect(175, 35 + 70 * i, 70, 70));
    }
}
</script>